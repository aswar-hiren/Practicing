@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model DataLayer.ViewModels.CloseCaseViewModel;

<Partial name="_navbar" /><div class="bg-body-tertiary">    <div class="container  mx-auto">        <div class="d-flex mt-5 mb-4 justify-content-between ">            <p class="h4 fw-bold"> Close Case</p>            <a asp-controller="Admin" asp-action="MainPage">                <span class="border border-info text-info p-2 rounded-2">                    < Back                </span>            </a>        </div>        <div class="p-4 shadow  rounded">            <div class="bg-white ">                <p class="mb-0">Patient Name</p>                <div class="row justify-content-between">                    <div class="col-lg-4 col-sm-12">                        <p>                            <span class="text-info fs-4">@Model.firstName @Model.lastName</span>                            <span class="text-secondary fs-5">(DCSJCDK132)</span>                        </p>                    </div>                    <div class="col-lg-4 col-sm-12">                        <a class="btn border border-info text-info p-2 rounded-2">                            Create Invoice through QuickLabs                        </a>                    </div>                </div>            </div>            <p class="h5  my-3">Documents</p>            @*TABLE DIV*@            <div class="table-responsive">                <table class="table ">                    <thead class="">                        <tr class="table-secondary">                            <th scope="col" style="width: 50%">                            </th>                            <th scope="col">Upload Date<i class="bi bi-arrow-up"></i></th>                            <th scope="col">Actions</th>                        </tr>                    </thead>                    <tbody class="bg-white">                        @foreach (var item in Model.requestWiseFiles)
                        {                            <tr>                                <td>@item.Filename</td>                                <td>@item.Createddate.ToString("MMM") @item.Createddate.ToString("dd"), @item.Createddate.ToString("yyyy")</td>                                <td>
                                    <a class="btn btn-outline-info fw-bold download-btn" asp-action="Downloaddoc" asp-controller="Admin" asp-route-documentid="@item.Requestwisefileid">
                                        <i class="bi bi-cloud-arrow-down"></i>                                    </a>                                </td>                            </tr>                        }                    </tbody>                </table>            </div>
         
            @*FORM*@
            <form class="bg-white p-2 rounded"  asp-action="CloseCaseDetails" asp-route-reqid="@Model.reqId" asp-controller="Admin" id="closecaseform">
                <input  asp-for="@Model.reqId" type="hidden" />
                <p class="mt-2 mb-2 fs-3"> Patient Information </p>                <div class="row g-2 d-flex">                    <div class="form-floating mb-3 col-sm-12 col-md-6 col-lg-6 col-xl-6 d-flex">                        <input type="text" asp-for="firstName"  class="form-control bg-transparent" id="pi_name" placeholder="firstname" >                        <label for="pi_name">FirstName</label>                        <span class="text-danger mb-3" asp-validation-for="firstName"></span>                     </div>                    <div class="form-floating col-sm-12 col-md-6 col-lg-6 col-xl-6 d-flex">
                        <input type="text" asp-for="lastName"  class="form-control bg-transparent" id="pi_lastname" placeholder="lastname" >
                        <label for="pi_lastname">LastName</label>                        <span class="text-danger mb-3" asp-validation-for="lastName"></span>                    </div>                    <div class="form-floating col-sm-12 col-md-6 col-lg-6 col-xl-6 d-flex mb-3">
                        <input asp-for="DOB"   class="form-control bg-transparent" id="pi_dob" placeholder="dob" >
                        <label for="pi_dob">Date of Birth</label>                        <span class="text-danger mb-3" asp-validation-for="DOB"></span>                    </div>                    <div class="form-floating col-10 col-sm-10 col-md-5 col-lg-5 col-xl-5 d-flex gap-3 mb-3">
                        <input type="text" asp-for="phoneNumber"  class="form-control bg-transparent disableField" id="pi_phonenumber" placeholder="Phonennumber" >
                        <label for="pi_phonenumber">PhoneNumber</label>                    </div>                    <div class="col-xl-1 col-lg-1 col-md-1 col-sm-2 col-2 ">                        <a class="btn border border-info text-info p-3  rounded-2">                            <i class=" bi bi-telephone"></i>                        </a>                    </div>                    <div class="form-floating col-sm-12 col-md-6 col-lg-6 col-xl-6 d-flex">
                        <input asp-for="email"  type="email" class="form-control bg-transparent  disableField" id="pc_email" placeholder="email" >
                        <label for="pc_email">Email</label>                        <span class="text-danger mb-3" asp-validation-for="email"></span>                    </div>                </div>                <div class="input-group mb-5 d-flex justify-content-end">
                    <button id="editBtn" class="btn btn-info me-2 border rounded text-white px-2 py-2" onclick="enableFields()" type="button">Edit</button>
                    <button id="closeCaseBtn" name="button" value="1" class="btn btn-light border-info text-info  border rounded" type="submit" style="background-color:transparent;">Close Case</button>
                    <button id="submitBtn" name="button" value="2" class="btn btn-info me-2 border rounded text-white px-2 py-2" type="submit" >Save</button>
                    <button id="cancelBtn" class="btn btn-light border-info text-info  border rounded" type="button" onclick="disableFields()" style="background-color:transparent;">Cancel</button>
                </div>            </form>        </div>    </div></div><script>      function disableFields() {        document.querySelectorAll('input').forEach(function (element) {            element.disabled = true;        });        // Hide the submit and cancel buttons, show the edit button        document.getElementById('submitBtn').style.display = 'none';        document.getElementById('cancelBtn').style.display = 'none';        document.getElementById('editBtn').style.display = 'block';        document.getElementById('closeCaseBtn').style.display = 'block';    }    function enableFields() {        document.querySelectorAll('.disableField').forEach(function (element) {            element.disabled = false;        });        // Show the submit and cancel buttons, hide the edit button        document.getElementById('submitBtn').style.display = 'block';        document.getElementById('cancelBtn').style.display = 'block';        document.getElementById('editBtn').style.display = 'none';        document.getElementById('closeCaseBtn').style.display = 'none';    }    disableFields();</script>