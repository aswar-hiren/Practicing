@model DataLayer.ViewModels.BlockHistoryvm;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="d-none d-md-block table-responsive">
    <table class="table">
        <thead class="table-secondary">
            <tr class=""> 
                <th>Patient Name</th>
                <th>Phone Number</th>
                <th>Email</th>
                <th>Created Date</th>
                <th>Notes</th>
                <th>in Active</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.clients)
            {
                Dictionary<int, string> HashMap = new Dictionary<int, string>()
            {
            {1,"New"},
            {2,"Pending"},
            {3,"Close"},
            {4,"Active"},
            {5,"Active"},
            {6,"Conclude"},
            {7,"Close"},
            {8,"Close"},
            {9,"UnPaid"},
            {10,"Clear"},
            {11,"Block"}
            };
                <tr>
                    <td>
                        @item.Firstname
                    </td>
                    <td>@item.Phonenumber</td>
                    <td>@item.Email</td>
                    <td>@item.Request.Createddate.Day/@item.Request.Createddate.Month/@item.Request.Createddate.Year </td>
                    @{
                        if (item.Notes != null)
                        {
                                <td>  @item.Notes </td>
                        }
                        else
                        {
                                <td>""</td>
                        }
                    }
                    <td><input type="checkbox" /></td>
                    <td>
                        <button class="bg-white border-info text-info me-2 p-2 rounded-2 " onclick="unblockReq('@item.Requestid')"> Unblock </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class=" @(Model.total == 0 ? "d-none" : "")">
    <nav aria-label="Page navigation" class="p-4 d-flex justify-content-between" ">
        <span>Page @Model.CurrentPage of @Model.TotalPages  </span>
        <span>Total requests: @Model.total</span>
        <ul class="pagination me-2">
            <li class="page-item @(Model.CurrentPage <= 1 ? "disabled" : "")">
                <button class="page-link" onclick="Pagefile(@Model.CurrentPage-1,@Model.PageSize)"><i class="bi bi-chevron-left text-black"></i></button>
            </li>
            <li class="page-item">
                <button class="page-link bg-info text-white fw-bold mx-1 text-black" data-page="@Model.CurrentPage">@Model.CurrentPage</button>
            </li>

            <li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : "")">
                <button class="page-link" onclick="Pagefile(@Model.CurrentPage+1,@Model.PageSize)"><i class="bi bi-chevron-right text-black"></i></button>
            </li>
        </ul>
    </nav>
</div>

<script>
    $(document).ready(function () {
        $('.dropdown-toggle').click(function () {
            var dropdownMenu = $(this).next('.dropdown-menu');
            $('.dropdown-menu').not(dropdownMenu).hide();
            dropdownMenu.toggle();
        });
        $(document).on('click', function (e) {
            if (!$(e.target).closest('.dropdown').length) {
                $('.dropdown-menu').hide();
            }
        });
    });
    

</script>
